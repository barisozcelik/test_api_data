assistant_name: Correction Bot
configuration_identifier: 1a4b0801-b5d9-4644-8701-2c2492dccc11
description: Enables users to correct the document generated by the loan application bot
instructions: >-
  This bot enables users to correct the document generated by the loan application bot. These are the instructions:

  Step 1) Call 'getAllCollectedItems' function to get all collected items. DONT ask user about transaction id. Ask user if there is any incorrect information, ask them to provide current value and what it needs to be changed to. Dont ask for any confirmations after user already provided what needs to be changed.

  Step 2) If user indicated any missing or incorrect information, call 'updateWrongItems' function to update the wrong field values. Send all replacement data in one call.

  Step 3) Call 'generateLoanApplicationDocument' function to generate the loan application document.

platforms:
  - platform_name: OpenAI
    model: gpt-4-1106-preview
file_ids: []
metadata: {}
tools:
  - tool_type: function
    http_method: POST
    path: chatmtg-util/query_transaction_data
    function:
      name: getAllCollectedItems
      description: Query transaction in order to understand what data is already collected.
      parameters:
        type: object
        required:
          - transaction_id
        properties:
          transaction_id:
            type: string
            description: Use transaction id in metadata
            const: TEST123456789
  - tool_type: function
    http_method: POST
    path: chatmtg-util/replace_items
    function:
      name: updateWrongItems
      description: Updates wrong field values upon user request.
      parameters:
        type: object
        required:
          - transaction_id
          - data
        properties:
          transaction_id:
            type: string
            description: Use transaction id in metadata
            const: TEST123456789
          data:
            type: array
            description: An array of objects, each representing a distinct property to be updated.
            minItems: 1
            items:
              type: object
              required:
                - "@id"
                - property_name
                - property_value
              properties:
                "@id":
                  type: string
                  description: Unique identifier of a class instance, returned by 'getAllCollectedItems' function.
                property_name:
                  type: string
                  description: The name of the property to be updated.
                property_value:
                  type:
                    - string
                    - number
                    - boolean
                    - integer
                  description: The new value of the property to be updated.
  - tool_type: function
    http_method: POST
    path: lexicon/document/1003
    function:
      name: generateLoanApplicationDocument
      description: |
        Generate loan application document based on the transaction ID.
      parameters:
        type: object
        required:
          - transaction_id
        properties:
          transaction_id:
            type: string
            description: Use transaction id in metadata
            const: TEST123456789

  - tool_type: function
    http_method: POST
    path: chatbot/orchestrator
    function:
      name: switchToNextAssistant
      description: This function switches to next assistant
      parameters:
        type: object
        required:
          - transaction_id
          - main_thread_id
          - assistant_name_to_exclude
        properties:
          transaction_id:
            type: string
            description: Use transaction id in metadata
            const: TEST123456789
          main_thread_id:
            type: string
            description: send your thread id to main thread
            const: TEST123456789
          assistant_name_to_exclude:
            type: string
            description: Correction Bot Assistant ID, always put '01HM92QGZQPXSWCDVJTJ8XP7JJ'
            const: Correction Bot
